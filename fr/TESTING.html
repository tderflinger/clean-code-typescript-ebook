
<!DOCTYPE HTML>
<html lang="fr" >
    <head>
        <meta charset="UTF-8">
        <title>Tests · Clean Code TypeScript</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="HonKit 4.0.0">
        
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/@honkit/honkit-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="CONCURRENCY.html" />
    
    
    <link rel="prev" href="SOLID.html" />
    

    </head>
    <body>
        
<div class="book honkit-cloak">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Tapez pour rechercher" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="./">
            
                <a href="./">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="VARIABLES.html">
            
                <a href="VARIABLES.html">
            
                    
                    Variables
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="FUNCTIONS.html">
            
                <a href="FUNCTIONS.html">
            
                    
                    Fonctions
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="OBJECTS-DATA.html">
            
                <a href="OBJECTS-DATA.html">
            
                    
                    Objets et Structures de Données
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="CLASSES.html">
            
                <a href="CLASSES.html">
            
                    
                    Classes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="SOLID.html">
            
                <a href="SOLID.html">
            
                    
                    SOLID
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.7" data-path="TESTING.html">
            
                <a href="TESTING.html">
            
                    
                    Tests
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8" data-path="CONCURRENCY.html">
            
                <a href="CONCURRENCY.html">
            
                    
                    Opérations Concurrentes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9" data-path="ERROR-HANDLING.html">
            
                <a href="ERROR-HANDLING.html">
            
                    
                    Gestion des erreurs
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10" data-path="FORMATTING.html">
            
                <a href="FORMATTING.html">
            
                    
                    Formatage du Code
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11" data-path="COMMENTS.html">
            
                <a href="COMMENTS.html">
            
                    
                    Commentaires
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12" data-path="TRANSLATIONS.html">
            
                <a href="TRANSLATIONS.html">
            
                    
                    Traductions
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13" data-path="LICENSE.html">
            
                <a href="LICENSE.html">
            
                    
                    Licence
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://github.com/honkit/honkit" target="blank" class="gitbook-link">
            Publié avec HonKit
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="." >Tests</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h2 id="tests">Tests</h2>
<p>Les tests sont plus importants que l&apos;expédition. Si vous n&apos;avez aucun test ou une
quantité insuffisante, chaque fois que vous expédiez du code, vous ne serez pas
sûr de ne rien casser.
Décider de ce qui constitue un montant adéquat appartient à votre équipe, mais
avoir une couverture à 100% (tous les relevés et succursales)
est la façon dont vous obtenez une confiance très élevée et une tranquillité
d&apos;esprit de développeur Cela signifie qu&apos;en plus d&apos;avoir un excellent cadre de
test, vous devez également utiliser un bon <a href="https://github.com/gotwarlost/istanbul" target="_blank">outil de couverture</a>.</p>
<p>Il n&apos;y a aucune excuse pour ne pas écrire de tests. Il existe <a href="http://jstherightway.org/#testing-tools" target="_blank">beaucoup de bons frameworks de test JS</a> avec prise en charge des typages pour TypeScript, alors trouvez
celui que votre équipe préfère. Lorsque vous en trouvez un qui fonctionne pour
votre équipe, essayez de toujours écrire des tests pour chaque nouvelle
fonctionnalité/module que vous introduisez. Si votre méthode préférée est le
développement piloté par les tests (TDD), c&apos;est très bien, mais le principal
est de vous assurer que vous atteignez vos objectifs de couverture avant de
lancer une fonctionnalité ou de refactoriser une fonctionnalité existante.</p>
<h3 id="les-trois-lois-du-tdd">Les trois lois du TDD</h3>
<ol>
<li><p>Vous n&apos;êtes pas autorisé à écrire un code de production, sauf pour effectuer
un test unitaire ayant échoué.</p>
</li>
<li><p>Vous n&apos;êtes pas autorisé à écrire plus d&apos;un test unitaire que ce qui est
suffisant pour échouer; et les échecs de compilation sont des échecs.</p>
</li>
<li><p>Vous n&apos;êtes pas autorisé à écrire plus de code de production qu&apos;il n&apos;en faut
pour réussir le test unitaire ayant échoué.</p>
</li>
</ol>
<h3 id="les-règles-de-first">Les règles de F.I.R.S.T</h3>
<p>Les tests propres doivent suivre les règles:</p>
<ul>
<li><p><strong>Fast</strong>: les tests <em>rapides</em> doivent être rapides car nous voulons les exécuter fréquemment.</p>
</li>
<li><p><strong>Independent</strong>: les tests <em>indépendants</em> ne devraient pas dépendre les uns des autres.
Ils doivent fournir la même sortie, qu&apos;ils soient exécutés indépendamment ou tous
ensemble dans n&apos;importe quel ordre.</p>
</li>
<li><p><strong>Repeatable</strong>: les tests doivent être reproductibles dans tous les environnements et
ne soyez pas une excuse pour pourquoi ils échouent.</p>
</li>
<li><p><strong>Self-Validating</strong>: un test doit répondre avec <em>Réussi</em> ou <em>Échoué</em>. Vous n&apos;avez
pas besoin de comparer les fichiers journaux pour répondre si un test a réussi.</p>
</li>
<li><p><strong>Timely</strong>: des tests unitaires <em>opportuns</em> doivent être écrits avant le code de
production. Si vous écrivez des tests après le code de production, vous pourriez
trouver les tests d&apos;écriture trop difficiles.</p>
</li>
</ul>
<h3 id="concept-unique-par-test">Concept unique par test</h3>
<p>Les tests doivent également suivre le <em>principe de responsabilité unique</em>. Faites
une seule assertion par test unitaire.</p>
<p><strong>Mal:</strong></p>
<pre><code class="lang-ts"><span class="hljs-keyword">import</span> { assert } <span class="hljs-keyword">from</span> <span class="hljs-string">&apos;chai&apos;</span>;

describe(<span class="hljs-string">&apos;AwesomeDate&apos;</span>, <span class="hljs-function">() =&gt;</span> {
  it(<span class="hljs-string">&apos;handles date boundaries&apos;</span>, <span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">let</span> date: AwesomeDate;

    date = <span class="hljs-keyword">new</span> AwesomeDate(<span class="hljs-string">&apos;1/1/2015&apos;</span>);
    assert.equal(<span class="hljs-string">&apos;1/31/2015&apos;</span>, date.addDays(<span class="hljs-number">30</span>));

    date = <span class="hljs-keyword">new</span> AwesomeDate(<span class="hljs-string">&apos;2/1/2016&apos;</span>);
    assert.equal(<span class="hljs-string">&apos;2/29/2016&apos;</span>, date.addDays(<span class="hljs-number">28</span>));

    date = <span class="hljs-keyword">new</span> AwesomeDate(<span class="hljs-string">&apos;2/1/2015&apos;</span>);
    assert.equal(<span class="hljs-string">&apos;3/1/2015&apos;</span>, date.addDays(<span class="hljs-number">28</span>));
  });
});
</code></pre>
<p><strong>Bien:</strong></p>
<pre><code class="lang-ts"><span class="hljs-keyword">import</span> { assert } <span class="hljs-keyword">from</span> <span class="hljs-string">&apos;chai&apos;</span>;

describe(<span class="hljs-string">&apos;AwesomeDate&apos;</span>, <span class="hljs-function">() =&gt;</span> {
  it(<span class="hljs-string">&apos;handles 30-day months&apos;</span>, <span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">const</span> date = <span class="hljs-keyword">new</span> AwesomeDate(<span class="hljs-string">&apos;1/1/2015&apos;</span>);
    assert.equal(<span class="hljs-string">&apos;1/31/2015&apos;</span>, date.addDays(<span class="hljs-number">30</span>));
  });

  it(<span class="hljs-string">&apos;handles leap year&apos;</span>, <span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">const</span> date = <span class="hljs-keyword">new</span> AwesomeDate(<span class="hljs-string">&apos;2/1/2016&apos;</span>);
    assert.equal(<span class="hljs-string">&apos;2/29/2016&apos;</span>, date.addDays(<span class="hljs-number">28</span>));
  });

  it(<span class="hljs-string">&apos;handles non-leap year&apos;</span>, <span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">const</span> date = <span class="hljs-keyword">new</span> AwesomeDate(<span class="hljs-string">&apos;2/1/2015&apos;</span>);
    assert.equal(<span class="hljs-string">&apos;3/1/2015&apos;</span>, date.addDays(<span class="hljs-number">28</span>));
  });
});
</code></pre>
<h3 id="le-nom-du-test-doit-révéler-son-intention">Le nom du test doit révéler son intention</h3>
<p>Lorsqu&apos;un test échoue, son nom est la première indication de ce qui peut avoir mal tourné.</p>
<p><strong>Mal:</strong></p>
<pre><code class="lang-ts">describe(<span class="hljs-string">&apos;Calendar&apos;</span>, <span class="hljs-function">() =&gt;</span> {
  it(<span class="hljs-string">&apos;2/29/2020&apos;</span>, <span class="hljs-function">() =&gt;</span> {
    <span class="hljs-comment">// ...</span>
  });

  it(<span class="hljs-string">&apos;throws&apos;</span>, <span class="hljs-function">() =&gt;</span> {
    <span class="hljs-comment">// ...</span>
  });
});
</code></pre>
<p><strong>Bien:</strong></p>
<pre><code class="lang-ts">describe(<span class="hljs-string">&apos;Calendar&apos;</span>, <span class="hljs-function">() =&gt;</span> {
  it(<span class="hljs-string">&apos;should handle leap year&apos;</span>, <span class="hljs-function">() =&gt;</span> {
    <span class="hljs-comment">// ...</span>
  });

  it(<span class="hljs-string">&apos;should throw when format is invalid&apos;</span>, <span class="hljs-function">() =&gt;</span> {
    <span class="hljs-comment">// ...</span>
  });
});
</code></pre>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="SOLID.html" class="navigation navigation-prev " aria-label="Previous page: SOLID">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="CONCURRENCY.html" class="navigation navigation-next " aria-label="Next page: Opérations Concurrentes">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Tests","level":"1.7","depth":1,"next":{"title":"Opérations Concurrentes","level":"1.8","depth":1,"path":"CONCURRENCY.md","ref":"./CONCURRENCY.md","articles":[]},"previous":{"title":"SOLID","level":"1.6","depth":1,"path":"SOLID.md","ref":"./SOLID.md","articles":[]},"dir":"ltr"},"config":{"plugins":[],"root":"./docs","styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"theme":"default","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56},"embedFonts":false},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"Clean Code TypeScript","language":"fr","gitbook":"*"},"file":{"path":"TESTING.md","mtime":"2022-10-28T20:05:06.106Z","type":"markdown"},"gitbook":{"version":"4.0.0","time":"2022-10-28T20:05:13.400Z"},"basePath":".","book":{"language":"fr"}});
        });
    </script>
</div>

        
    <noscript>
        <style>
            .honkit-cloak {
                display: block !important;
            }
        </style>
    </noscript>
    <script>
        // Restore sidebar state as critical path for prevent layout shift
        function __init__getSidebarState(defaultValue){
            var baseKey = "";
            var key = baseKey + ":sidebar";
            try {
                var value = localStorage[key];
                if (value === undefined) {
                    return defaultValue;
                }
                var parsed = JSON.parse(value);
                return parsed == null ? defaultValue : parsed;
            } catch (e) {
                return defaultValue;
            }
        }
        function __init__restoreLastSidebarState() {
            var isMobile = window.matchMedia("(max-width: 600px)").matches;
            if (isMobile) {
                // Init last state if not mobile
                return;
            }
            var sidebarState = __init__getSidebarState(true);
            var book = document.querySelector(".book");
            // Show sidebar if it enabled
            if (sidebarState && book) {
                book.classList.add("without-animation", "with-summary");
            }
        }

        try {
            __init__restoreLastSidebarState();
        } finally {
            var book = document.querySelector(".book");
            book.classList.remove("honkit-cloak");
        }
    </script>
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

