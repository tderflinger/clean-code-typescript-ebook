
<!DOCTYPE HTML>
<html lang="en" >
    <head>
        <meta charset="UTF-8">
        <title>Testing Â· Clean Code TypeScript</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="HonKit 4.0.0">
        
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/@honkit/honkit-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="CONCURRENCY.html" />
    
    
    <link rel="prev" href="SOLID.html" />
    

    </head>
    <body>
        
<div class="book honkit-cloak">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="./">
            
                <a href="./">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="VARIABLES.html">
            
                <a href="VARIABLES.html">
            
                    
                    Variables
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="FUNCTIONS.html">
            
                <a href="FUNCTIONS.html">
            
                    
                    Functions
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="OBJECTS-DATA.html">
            
                <a href="OBJECTS-DATA.html">
            
                    
                    Objects and Data Structures
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="CLASSES.html">
            
                <a href="CLASSES.html">
            
                    
                    Classes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="SOLID.html">
            
                <a href="SOLID.html">
            
                    
                    SOLID
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.7" data-path="TESTING.html">
            
                <a href="TESTING.html">
            
                    
                    Testing
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8" data-path="CONCURRENCY.html">
            
                <a href="CONCURRENCY.html">
            
                    
                    Concurrency
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9" data-path="ERROR-HANDLING.html">
            
                <a href="ERROR-HANDLING.html">
            
                    
                    Error Handling
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10" data-path="FORMATTING.html">
            
                <a href="FORMATTING.html">
            
                    
                    Formatting
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11" data-path="COMMENTS.html">
            
                <a href="COMMENTS.html">
            
                    
                    Comments
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12" data-path="TRANSLATIONS.html">
            
                <a href="TRANSLATIONS.html">
            
                    
                    Translations
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13" data-path="LICENSE.html">
            
                <a href="LICENSE.html">
            
                    
                    License
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://github.com/honkit/honkit" target="blank" class="gitbook-link">
            Published with HonKit
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="." >Testing</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h2 id="testing">Testing</h2>
<p>Testing is more important than shipping. If you have no tests or an inadequate amount, then every time you ship code you won&apos;t be sure that you didn&apos;t break anything.
Deciding on what constitutes an adequate amount is up to your team, but having 100% coverage (all statements and branches)
is how you achieve very high confidence and developer peace of mind. This means that in addition to having a great testing framework, you also need to use a good <a href="https://github.com/gotwarlost/istanbul" target="_blank">coverage tool</a>.</p>
<p>There&apos;s no excuse to not write tests. There are <a href="http://jstherightway.org/#testing-tools" target="_blank">plenty of good JS test frameworks</a> with typings support for TypeScript, so find one that your team prefers. When you find one that works for your team, then aim to always write tests for every new feature/module you introduce. If your preferred method is Test Driven Development (TDD), that is great, but the main point is to just make sure you are reaching your coverage goals before launching any feature, or refactoring an existing one.  </p>
<h3 id="the-three-laws-of-tdd">The three laws of TDD</h3>
<ol>
<li><p>You are not allowed to write any production code unless it is to make a failing unit test pass.</p>
</li>
<li><p>You are not allowed to write any more of a unit test than is sufficient to fail, and; compilation failures are failures.</p>
</li>
<li><p>You are not allowed to write any more production code than is sufficient to pass the one failing unit test.</p>
</li>
</ol>
<h3 id="first-rules">F.I.R.S.T. rules</h3>
<p>Clean tests should follow the rules:</p>
<ul>
<li><p><strong>Fast</strong> tests should be fast because we want to run them frequently.</p>
</li>
<li><p><strong>Independent</strong> tests should not depend on each other. They should provide same output whether run independently or all together in any order.</p>
</li>
<li><p><strong>Repeatable</strong> tests should be repeatable in any environment and there should be no excuse for why they fail.</p>
</li>
<li><p><strong>Self-Validating</strong> a test should answer with either <em>Passed</em> or <em>Failed</em>. You don&apos;t need to compare log files to answer if a test passed.</p>
</li>
<li><p><strong>Timely</strong> unit tests should be written before the production code. If you write tests after the production code, you might find writing tests too hard.</p>
</li>
</ul>
<h3 id="single-concept-per-test">Single concept per test</h3>
<p>Tests should also follow the <em>Single Responsibility Principle</em>. Make only one assert per unit test.</p>
<p><strong>Bad:</strong></p>
<pre><code class="lang-ts"><span class="hljs-keyword">import</span> { assert } <span class="hljs-keyword">from</span> <span class="hljs-string">&apos;chai&apos;</span>;

describe(<span class="hljs-string">&apos;AwesomeDate&apos;</span>, <span class="hljs-function">() =&gt;</span> {
  it(<span class="hljs-string">&apos;handles date boundaries&apos;</span>, <span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">let</span> date: AwesomeDate;

    date = <span class="hljs-keyword">new</span> AwesomeDate(<span class="hljs-string">&apos;1/1/2015&apos;</span>);
    assert.equal(<span class="hljs-string">&apos;1/31/2015&apos;</span>, date.addDays(<span class="hljs-number">30</span>));

    date = <span class="hljs-keyword">new</span> AwesomeDate(<span class="hljs-string">&apos;2/1/2016&apos;</span>);
    assert.equal(<span class="hljs-string">&apos;2/29/2016&apos;</span>, date.addDays(<span class="hljs-number">28</span>));

    date = <span class="hljs-keyword">new</span> AwesomeDate(<span class="hljs-string">&apos;2/1/2015&apos;</span>);
    assert.equal(<span class="hljs-string">&apos;3/1/2015&apos;</span>, date.addDays(<span class="hljs-number">28</span>));
  });
});
</code></pre>
<p><strong>Good:</strong></p>
<pre><code class="lang-ts"><span class="hljs-keyword">import</span> { assert } <span class="hljs-keyword">from</span> <span class="hljs-string">&apos;chai&apos;</span>;

describe(<span class="hljs-string">&apos;AwesomeDate&apos;</span>, <span class="hljs-function">() =&gt;</span> {
  it(<span class="hljs-string">&apos;handles 30-day months&apos;</span>, <span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">const</span> date = <span class="hljs-keyword">new</span> AwesomeDate(<span class="hljs-string">&apos;1/1/2015&apos;</span>);
    assert.equal(<span class="hljs-string">&apos;1/31/2015&apos;</span>, date.addDays(<span class="hljs-number">30</span>));
  });

  it(<span class="hljs-string">&apos;handles leap year&apos;</span>, <span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">const</span> date = <span class="hljs-keyword">new</span> AwesomeDate(<span class="hljs-string">&apos;2/1/2016&apos;</span>);
    assert.equal(<span class="hljs-string">&apos;2/29/2016&apos;</span>, date.addDays(<span class="hljs-number">28</span>));
  });

  it(<span class="hljs-string">&apos;handles non-leap year&apos;</span>, <span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">const</span> date = <span class="hljs-keyword">new</span> AwesomeDate(<span class="hljs-string">&apos;2/1/2015&apos;</span>);
    assert.equal(<span class="hljs-string">&apos;3/1/2015&apos;</span>, date.addDays(<span class="hljs-number">28</span>));
  });
});
</code></pre>
<h3 id="the-name-of-the-test-should-reveal-its-intention">The name of the test should reveal its intention</h3>
<p>When a test fails, its name is the first indication of what may have gone wrong.</p>
<p><strong>Bad:</strong></p>
<pre><code class="lang-ts">describe(<span class="hljs-string">&apos;Calendar&apos;</span>, <span class="hljs-function">() =&gt;</span> {
  it(<span class="hljs-string">&apos;2/29/2020&apos;</span>, <span class="hljs-function">() =&gt;</span> {
    <span class="hljs-comment">// ...</span>
  });

  it(<span class="hljs-string">&apos;throws&apos;</span>, <span class="hljs-function">() =&gt;</span> {
    <span class="hljs-comment">// ...</span>
  });
});
</code></pre>
<p><strong>Good:</strong></p>
<pre><code class="lang-ts">describe(<span class="hljs-string">&apos;Calendar&apos;</span>, <span class="hljs-function">() =&gt;</span> {
  it(<span class="hljs-string">&apos;should handle leap year&apos;</span>, <span class="hljs-function">() =&gt;</span> {
    <span class="hljs-comment">// ...</span>
  });

  it(<span class="hljs-string">&apos;should throw when format is invalid&apos;</span>, <span class="hljs-function">() =&gt;</span> {
    <span class="hljs-comment">// ...</span>
  });
});
</code></pre>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="SOLID.html" class="navigation navigation-prev " aria-label="Previous page: SOLID">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="CONCURRENCY.html" class="navigation navigation-next " aria-label="Next page: Concurrency">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Testing","level":"1.7","depth":1,"next":{"title":"Concurrency","level":"1.8","depth":1,"path":"CONCURRENCY.md","ref":"./CONCURRENCY.md","articles":[]},"previous":{"title":"SOLID","level":"1.6","depth":1,"path":"SOLID.md","ref":"./SOLID.md","articles":[]},"dir":"ltr"},"config":{"plugins":[],"root":"./docs","styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"theme":"default","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56},"embedFonts":false},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"Clean Code TypeScript","language":"en","gitbook":"*"},"file":{"path":"TESTING.md","mtime":"2022-10-28T19:57:44.202Z","type":"markdown"},"gitbook":{"version":"4.0.0","time":"2022-10-28T19:57:59.682Z"},"basePath":".","book":{"language":"en"}});
        });
    </script>
</div>

        
    <noscript>
        <style>
            .honkit-cloak {
                display: block !important;
            }
        </style>
    </noscript>
    <script>
        // Restore sidebar state as critical path for prevent layout shift
        function __init__getSidebarState(defaultValue){
            var baseKey = "";
            var key = baseKey + ":sidebar";
            try {
                var value = localStorage[key];
                if (value === undefined) {
                    return defaultValue;
                }
                var parsed = JSON.parse(value);
                return parsed == null ? defaultValue : parsed;
            } catch (e) {
                return defaultValue;
            }
        }
        function __init__restoreLastSidebarState() {
            var isMobile = window.matchMedia("(max-width: 600px)").matches;
            if (isMobile) {
                // Init last state if not mobile
                return;
            }
            var sidebarState = __init__getSidebarState(true);
            var book = document.querySelector(".book");
            // Show sidebar if it enabled
            if (sidebarState && book) {
                book.classList.add("without-animation", "with-summary");
            }
        }

        try {
            __init__restoreLastSidebarState();
        } finally {
            var book = document.querySelector(".book");
            book.classList.remove("honkit-cloak");
        }
    </script>
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

